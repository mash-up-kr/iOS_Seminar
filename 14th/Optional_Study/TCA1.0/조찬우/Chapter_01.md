# TCA 1.0 스터디
### 챕터 자료
- https://axiomatic-fuschia-666.notion.site/Chapter-1-Hello-TCA-70c56437681547d4b85cd1363a157356

###  스터디 내용
- 챕터 1은 TCA에 대해 전반적으로 나타난 배경과 소개 그리고 앞으로의 챕터들에 대한 소개로 이뤄져있음
  - visionOS 발표전에 써진 문서라 해당 언급은 없는듯!
- TCA(The Composable Architecture)도 결국 추상화된 비지니스적 문제 해결 관점에서 바라보는 하나의 아키텍처 패턴의 범주에 속하기에 매번 정답인 은총알이 아닌, 단순한 하나의 방법론이라고 볼 수 있음
  - 그렇기에 모든 프로젝트에 상황에 딱 잘 맞고 가장 좋은 아키텍처라는 생각은 위험함
  - 현재 가장 핫한 아키텍처중 하나는 맞지만, TCA가 모든것을 해결해줄 수는 없다.
  - 결국 상태관리가 핵심이기에 이 상태관리를 더 정형화 해놓고 내부적으로 잘 구성하였기에 사용하는것이지 상태관리를 위해서 TCA를 꼭 사용해야하는것은 아니다.
  - 정형화된 하나의 규칙을 사용하는 디자인 패턴과 혼동하면 안됨
- 아키텍쳐 패턴 vs 디자인 패턴
  - 아키텍쳐 패턴이 보통 디자인 패턴보다 범위가 더 넓음
  - 아키텍쳐 패턴은 아이디어의 추상적 관점에 중점 (MVVM, MVC, MVP, VIPER, MVI 등)
  - 디자인 패턴은 아이디어의 구현 관점에 중점 (Delegate, Singleton, Proxy, Composite 등)
  - 쉽게 생각하면 아키텍쳐 패턴은 전체적인 구조 설계에서 사용되기에 초반에 다잡고 가야하지만, 디자인 패턴은 언제든 구현하면서 필요에 따라 자유롭게 사용하면 됨
  - 하나의 아키텍쳐 패턴에 여러개의 디자인 패턴을 사용하여 구현 가능 (1:N 관계)
  - 결국 정리하자면 아키텍쳐 패턴은 소프트웨어 디자인에서 추상화 레벨이 디자인 패턴보다 더 높고 디자인 패턴은 특정 모듈에 대해 구현 하나의 구현 솔루션이라고 볼 수 있음
- SwiftUI(선언형 UI)으로 뷰 드로잉 하는 환경에서는 MVVM 패턴이 가장 일반적으로 사용되고 있음
  - 이 외에도 RIBs, VIPER, MVP, Clean Architecture등의 아키텍쳐 패턴도 많이 활용됨
  - 논점은 뷰와 로직을 확실히 잘 분리하고 더 나아가 관심사에 맞춰 더 잘게 쪼개 추상화 단계를 거치는것이 핵심이라고 느껴짐
- SwiftUI에 MVVM?
  - 초반 SwiftUI가 나왔을때는 MVVM 아키텍쳐를 당연시하게 적용하는 분위기였고 지금도 어느정도 이어지고 있음
  - 다만 지금 기준으로 SwiftUI가 계속 발전함에 따라 MVVM을 적용하는것에 대해 의문이 생기기 시작함
    - ViewModel의 핵심이던 State-Binding의 역할이 이미 SwiftUI에서 반영되어 있다는 점이 포인트
    - Reactive Programming 관점에서보면 사실 ViewModel이 데이터를 바인딩하고 처리하는것이 핵심적이여서 MVVM이 당연시 되었지만, SwiftUI에선 비동기 처리를 위한 데이터 바인딩 자체를 View에서 할 수 있기에 ViewModel을 그런 의미로 사용하는것이 적절할까란 의문들이 제기되고 있음
    - 결국 ViewModel을 데이터 바인딩을 하기 위한 역할로 쓰이는것은 이중 MVVM 구조가 될 수 있기에 조금 더 본질적으로 들어가 상태 관리를 하고 로직을 나누는 역할로 쓰이는것이 적절하지 않을까 생각
- TCA 탄생 설화 및 특징
  - TCA는 값 타입을 기반하고 객체를 모듈화함으로 앱 전체의 상태를 일관적으로 관리할 수 있는 구조를 제안하게됨
  - 즉 Composable하다는것은 나뭇잎을 생각해보면 각 최소 기능 단위로 구성된 모듈 혹은 유닛이라 불리는 컴포넌트들이 다른 나뭇잎들과 서로 결합 및 분리가 자유롭게 일어날 수 있다는것이 핵심
    - 이는 많은 장점들을 가져오지만 테스트 유연성에도 영향을 끼침
    - 실제로 테스트에 어떤 극대화된 장점을 가져올까? 아무래도 아토믹한 유닛 단위이니까 테스트 구성 시 쉽게 이 유닛들을 원하는만큼 조합하고 테스트할 수 있다는것만을 의미할까? 이는 이후 테스트 챕터에서 알아보자~
- TCA의 대표적인 장점
  - State 즉 상태 자체가 값 타입이기에 안정적
  - Action, Effect의 일관성 (정형화된 구조를 통해 개발자마다 동일한 형태를 구현하게됨)
  - 객체 즉, 모듈 간의 결합과 분리가 아주 유연함
  - 테스트 짱!

### 소감
- 확실히 외부 프레임워크인 만큼 불안함은 있지만, 이 프레임워크를 꼭 써야한다보다는 상태 관리를 어떻게 효율적으로 구성하고 구조를 제공하는지에 대해 앞으로 이해하는것이 핵심이 될것 같음
- SwiftUI로 MVVM을 사용하는것이 어울리지 않고 사용하면 안된다가 전혀 아니라, TCA를 통해 상태 기반 단방향 구조에 대해 Point-free에서 어떻게 생각하고 만들어내는지를 파악해봐야할것 같음
- 가장 좋은건 사실 이것들을 이해하고 직접 순수하게 만들어내는것이겠지만 아직 어렵겠지!?
- 보다 안정적인 UI 상태 변경과 객체의 유연한 소통에 초점을 잘 맞춰 앞으로의 챕터들을 학습해보는것을 목표해봐야겠다!